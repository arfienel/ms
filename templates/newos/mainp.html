{% extends 'base.html' %}
{% block title %} Статьи {% endblock %}

{% block content %}


    {% if news_list %}

<form action="{% url 'newes:search_results' %}" class="form-control rounded" method="get">
  <input name="search" type="text" placeholder="Поиск...">
  <button type="submit" class="btn btn-outline-primary">Найти</button>
</form>

        {% for a in news_list %}

          <div class="col-md-8 flex" style="margin:10px 10px 10px 200px;float:left;">
          <div class="card flex-md-row mb-4 shadow-sm h-md">
            <div class="card-body d-flex flex-column align-items-start">
              <h3 class="mb-1">
                <a class="text-dark" href="{% url 'newes:detail' a.id %}">{{ a.title }}</a>
              </h3>
              <p class="card-text text-dark mb-auto">Жанр: {{ a.genre1 }}<br>
                Дата выхода {{ a.release_date }}</p>
              <a href="{% url 'newes:detail' a.id %}">Continue reading</a>
            </div>
            <a href="{% url 'newes:detail' a.id %}"><img class="card-img-right flex-auto d-none d-lg-block" src="{{a.gm_photo.url}}" width="170" height="180"></a>
          </div>

            </div>
        {% endfor %}

        <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT1e-yrsOa3BckL3OhHLQvgc0b_W8dcnx5QOcO7Nb-fX5B98Om6Ga8QQ1i5lzFpvQFu2Mo&usqp=CAU" width="100%" height="0px">

    {% else %}
        <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT1e-yrsOa3BckL3OhHLQvgc0b_W8dcnx5QOcO7Nb-fX5B98Om6Ga8QQ1i5lzFpvQFu2Mo&usqp=CAU" width="100%" height="1080px">
    {% endif %}
        <nav aria-label="Page navigation example">
  <ul class="pagination" style="justify-content:center;">
      {% if news_list.has_previous %}
    <li class="page-item"><a class="page-link" href="?page={{ news_list.previous_page_number }}">Previous</a></li>
      {% endif %}
    {% for num in news_list.paginator.page_range %}
    {% if news_list.number == num %}
      <li class="page-item"><a class="page-link" href="?page={{num}}"><strong>{{num}}</strong></a></li>
    {% elif num > news_list.number|add:'-3' and num < news_list.number|add:'3' %}
            <li class="page-item"><a class="page-link" href="?page={{num}}">{{num}}</a></li>
    {% endif %}
      {% endfor %}
      {% if news_list.has_next %}
    <li class="page-item"><a class="page-link" href="?page={{ news_list.next_page_number }}">Next</a></li>
    {% endif %}
  </ul>
    </nav>
{% endblock %}